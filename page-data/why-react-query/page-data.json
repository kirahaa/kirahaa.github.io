{"componentChunkName":"component---src-templates-blog-post-js","path":"/why-react-query/","result":{"data":{"site":{"siteMetadata":{"title":"Kirahaa"}},"markdownRemark":{"id":"2c44be0b-f238-50bf-8f75-f6a3af5ef241","excerpt":"ì„¸ì¤„ ìš”ì•½ React QueryëŠ” React Applicationì—ì„œ ì„œë²„ ìƒíƒœë¥¼ ë¶ˆëŸ¬ì˜¤ê³ , ìºì‹±í•˜ë©°, ì§€ì†ì ìœ¼ë¡œ ë™ê¸°í™”í•˜ê³  ì—…ë°ì´íŠ¸í•˜ëŠ” ì‘ì—…ì„ ë„ì™€ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ë³µì¡í•˜ê³  ì¥í™©í•œ ì½”ë“œê°€ í•„ìš”í•œ ë‹¤ë¥¸ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ë°©ì‹ê³¼ ë‹¬ë¦¬ React Componentâ€¦","html":"<blockquote>\n<p>ì„¸ì¤„ ìš”ì•½</p>\n<ol>\n<li>React QueryëŠ” React Applicationì—ì„œ ì„œë²„ ìƒíƒœë¥¼ ë¶ˆëŸ¬ì˜¤ê³ , ìºì‹±í•˜ë©°, ì§€ì†ì ìœ¼ë¡œ ë™ê¸°í™”í•˜ê³  ì—…ë°ì´íŠ¸í•˜ëŠ” ì‘ì—…ì„ ë„ì™€ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.</li>\n<li>ë³µì¡í•˜ê³  ì¥í™©í•œ ì½”ë“œê°€ í•„ìš”í•œ ë‹¤ë¥¸ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ë°©ì‹ê³¼ ë‹¬ë¦¬ React Component ë‚´ë¶€ì—ì„œ ê°„ë‹¨í•˜ê³  ì§ê´€ì ìœ¼ë¡œ APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n<li>ë” ë‚˜ì•„ê°€ React Queryì—ì„œ ì œê³µí•˜ëŠ” ìºì‹±, Window Focus Refetching ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ API ìš”ì²­ê³¼ ê´€ë ¨ëœ ë²ˆì¡í•œ ì‘ì—… ì—†ì´ \"í•µì‹¬ ë¡œì§\"ì— ì§‘ì¤‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n</ol>\n</blockquote>\n<h3>React Queryë€?</h3>\n<p>React QueryëŠ” React Applicationì—ì„œ ì„œë²„ì˜ ìƒíƒœë¥¼ ë¶ˆëŸ¬ì˜¤ê³ , ìºì‹±í•˜ë©°, <strong>ì§€ì†ì ìœ¼ë¡œ ë™ê¸°í™”</strong>í•˜ê³  ì—…ë°ì´íŠ¸ í•˜ëŠ” ì‘ì—…ì„ ë„ì™€ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.\r\nReact QueryëŠ” ìš°ë¦¬ì—ê²Œ ì¹œìˆ™í•œ Hookì„ ì‚¬ìš©í•˜ì—¬ React Component ë‚´ë¶€ì—ì„œ ìì—°ìŠ¤ëŸ½ê²Œ ì„œë²„(ë˜ëŠ” ë¹„ë™ê¸°ì ì¸ ìš”ì²­ì´ í•„ìš”í•œ Source)ì˜ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œì•ˆí•©ë‹ˆë‹¤.</p>\n<p>ë‹¤ìŒì€ ë¦¬ì•¡íŠ¸ ì¿¼ë¦¬ë¥¼ ì ìš©í•˜ê¸° ì „ê³¼ í›„ì˜ API í†µì‹  ë°©ë²•ì…ë‹ˆë‹¤.</p>\n<deckgo-highlight-code language=\"ts\"  >\n          <code slot=\"code\">// React query ì‚¬ìš© ì „\r\nimport {useEffect, useState} from &quot;react&quot;;\r\n\r\nconst [coins, setCoins] = useState&lt;ICoin[]&gt;([])\r\nconst [loading, setLoading] = useState(true);\r\n\r\nuseEffect(() =&gt; {\r\n  (async() =&gt; {\r\n    const response = await fetch(&quot;https://api.coinpaprika.com/v1/coins&quot;)\r\n    const json = await response.json()\r\n    setCoins(json)\r\n    setLoading(false)\r\n  })()\r\n}, [])</code>\n        </deckgo-highlight-code>\n<deckgo-highlight-code language=\"ts\"  >\n          <code slot=\"code\">// React query ì‚¬ìš© í›„\r\n// api.ts\r\nexport const fetchCoins = async () =&gt; {\r\n  const response = await fetch(&quot;https://api.coinpaprika.com/v1/coins&quot;)\r\n  return await response.json()\r\n}\r\n\r\n// Coins.ts\r\nconst {isLoading, data} = useQuery&lt;ICoin[]&gt;({ queryKey: [&#39;allCoins&#39;], queryFn: fetchCoins })\r\n</code>\n        </deckgo-highlight-code>\n<p>ê¸¸ê³  ê±°ì°½í•œ ì„¤ëª… ì—†ì´ë„ í•´ë‹¹ ì½”ë“œë¥¼ ë³´ë©´ React Queryë¥¼ ì‚¬ìš©í•œ API ìš”ì²­ê³¼ ìƒíƒœ ê´€ë¦¬ê°€ ì–¼ë§ˆë‚˜ ì‰½ê³  ìì—°ìŠ¤ëŸ¬ìš´ì§€ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h3>React Queryì˜ Query ìš”ì²­</h3>\n<deckgo-highlight-code language=\"ts\"  >\n          <code slot=\"code\">// ê°€ì¥ ê¸°ë³¸ì ì¸ í˜•íƒœì˜ React Query useQuery Hook ì‚¬ìš© ì˜ˆì‹œ\r\nconst { data } = useQuery(\r\n  queryKey,  // ì´ Query ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µ ë°ì´í„°ë¥¼ ìºì‹œí•  ë•Œ ì‚¬ìš©í•  Unique Key (required)\r\n  fetchFn,   // ì´ Query ìš”ì²­ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ Promiseë¥¼ Returní•˜ëŠ” í•¨ìˆ˜ (required)\r\n  options,   // useQueryì—ì„œ ì‚¬ìš©ë˜ëŠ” Option ê°ì²´ (optional)\r\n) </code>\n        </deckgo-highlight-code>\n<p><code>useQuery</code> Hookìœ¼ë¡œ ìˆ˜í–‰ë˜ëŠ” Query ìš”ì²­ì€ HTTP METHOD <strong>GET</strong> ìš”ì²­ê³¼ ê°™ì´ ì„œë²„ì— ì €ì¥ë˜ì–´ ìˆëŠ” \"ìƒíƒœ\"ë¥¼ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n<blockquote>\n<p>React QueryëŠ” ë‹¤ì–‘í•œ UIì— ìœ ì—°í•˜ê²Œ ì ìš©í•  ìˆ˜ ìˆë„ë¡ <code>useQueries</code>, <code>useInfiniteQuery</code> ê°™ì€ Hookë“¤ë„ ì œê³µí•©ë‹ˆë‹¤.</p>\n</blockquote>\n<p>React Queryì˜ <code>useQuery</code> Hookì€ ìš”ì²­ë§ˆë‹¤(APIë§ˆë‹¤) êµ¬ë¶„ë˜ëŠ” **Unique Key (aka. Query Key)**ë¥¼ í•„ìš”ë¡œ í•©ë‹ˆë‹¤.\r\nReact QueryëŠ” ì´ Unique Keyë¡œ ì„œë²„ ìƒíƒœ (aka. API Response)ë¥¼ ë¡œì»¬ì— ìºì‹œí•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.</p>\n<deckgo-highlight-code language=\"ts\"  >\n          <code slot=\"code\">const Coins = () =&gt; {\r\n  const {isLoading, data} = useQuery&lt;ICoin[]&gt;({ queryKey : [&#39;allCoins&#39;], queryFn: fetchCoins })\r\n  // &#39;allCoins&#39;ë¥¼ Keyë¡œ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ìºì‹±\r\n  // ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ &#39;allCoins&#39;ë¥¼ QueryKeyë¡œ ì‚¬ìš©í•œ useQuery Hookì´ ìˆë‹¤ë©´ ìºì‹œëœ ë°ì´í„°ë¥¼ ìš°ì„  ì‚¬ìš©í•©ë‹ˆë‹¤.\r\n\r\n  // FYI, `data === undefined`ë¥¼ í‰ê°€í•˜ì—¬ ë¡œë”© ìƒíƒœë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ë” ì¢‹ìŠµë‹ˆë‹¤.\r\n  // React QueryëŠ” ë‚´ë¶€ì ìœ¼ë¡œ stale-while-revalidate ìºì‹± ì „ëµì„ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\r\n  return (\r\n    &lt;Container&gt;\r\n      &lt;Header&gt;\r\n        &lt;Title&gt;Coins&lt;/Title&gt;\r\n      &lt;/Header&gt;\r\n      {isLoading ? &lt;Loader&gt;Loading&lt;/Loader&gt; : (\r\n        &lt;CoinsList&gt;\r\n          {data?.slice(0, 100).map(coin =&gt; &lt;Coin key={coin.id}&gt;\r\n          &lt;Link to={coin.id} state={coin}&gt;\r\n          &lt;Img src={`https://coinicons-api.vercel.app/api/icon/${coin.symbol.toLowerCase()}`} alt={coin.name}/&gt;\r\n            {coin.name} &amp;rarr;\r\n          &lt;/Link&gt;\r\n        &lt;/Coin&gt;)}\r\n      &lt;/CoinsList&gt;)} \r\n    &lt;/Container&gt;\r\n  )\r\n}</code>\n        </deckgo-highlight-code>\n<blockquote>\n<p><strong>stale-while-revalidate</strong>ë€?<br/><br/>\r\n<code>stale-while-revalidate</code>ëŠ” ê°œë°œìê°€ ìºì‹±ëœ ì½˜í…ì¸ ë¥¼ ì¦‰ì‹œ ë¡œë“œí•˜ëŠ” ì¦‰ì‹œì„±ê³¼ ê°ì‹±ëœ ìµœì‹  ì½˜í…ì¸ ê°€ í–¥í›„ì— ì‚¬ìš©ë˜ë„ë¡ ë³´ì¥í•˜ëŠ” ìµœì‹ ì„± ê°„ì˜ ê· í˜•ì„ ìœ ì§€í•˜ëŠ”ë° ë„ì›€ì„ ì£¼ëŠ” HTTP Cache-Control í™•ì¥ ë””ë ‰í‹°ë¸Œì…ë‹ˆë‹¤.</p>\n<p>ë¸Œë¼ìš°ì €ëŠ” Cache-Controlì˜ max-ageë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìºì‹±ëœ ì»¨í…ì¸ ì˜ ìµœì‹  ìƒíƒœ ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ê²Œ ë˜ëŠ”ë°, swrì€ ìºì‹±ëœ ë‚¡ì€ ì»¨í…ì¸ ì— ëŒ€í•œ í™•ì¥ëœ ì§€ì‹œë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.\r\nreact-queryë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ swrì€ ë‚¡ì€ ìºì‹œë¡œë¶€í„° ë¹ ë¥´ê²Œ ì»¨í…ì¸ ë¥¼ ë°˜í™˜í•˜ê³ , ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìš”ì²­ì„ í†µí•´ ìºì‹±ëœ ì»¨í…ì¸ ì˜ ì¬ê²€ì¦ì„ ì§„í–‰í•˜ì—¬ ìºì‹± ë ˆì´ì–´ì—ì„œ ìµœì‹ í™”ëœ ëŒ€ì´í„°ë¥¼ ë³´ì¥í•  ìˆ˜ ìˆë„ë¡ swr ìºì‹± ì „ëµì„ ì·¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>\n</blockquote>\n<h3>React Queryë¥¼ ì“°ë©´ ì´ëŸ° ê²Œ í¸í•´ì§„ë‹¤</h3>\n<h4>- Boilerplate ì½”ë“œì˜ ê°ì†Œ</h4>\n<p>Reduxë¥¼ ì‚¬ìš©í•  ê²½ìš° Reduxì˜ ê¸°ë³¸ ì›ì¹™ ì¤€ìˆ˜ë¥¼ ìœ„í•œ ë‹¤ì–‘í•œ Boilerplate ì½”ë“œë“¤ì´ í•„ìš”í•©ë‹ˆë‹¤.\r\në” ë‚˜ì•„ê°€ ë‹¤ìŒ ì˜ˆì‹œ ì½”ë“œë¥¼ ë³´ë©´ API ìƒíƒœ ê´€ë¦¬ë¥¼ ìœ„í•´ í•˜ë‚˜ì˜ API ìš”ì²­ì„ 3ê°€ì§€ Actionì„ ì‚¬ìš©í•´ ì²˜ë¦¬í•˜ê³  ìˆê³ ,\r\ní›„ì— ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì–´ API ê°œìˆ˜ê°€ ë§ì•„ì§„ë‹¤ë©´ ì´ëŸ° ìƒìš©êµ¬ì ì¸ ì½”ë“œë„ í•¨ê»˜ ëŠ˜ì–´ë‚˜ê²Œ ë©ë‹ˆë‹¤.</p>\n<blockquote>\n<p>API ìƒíƒœë¥¼ Reduxë¥¼ ì‚¬ìš©í•˜ì—¬ ê´€ë¦¬í•˜ëŠ” ë¶€ë¶„ì˜ ì½”ë“œ</p>\n</blockquote>\n<deckgo-highlight-code language=\"ts\"  >\n          <code slot=\"code\">// features/todos/todos.slice.ts\r\n// API ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ Redux State\r\nimport { createSlice, PayloadAction } from &#39;@reduxjs/toolkit&#39;;\r\nimport { TodoItem } from &#39;types/todo&#39;;\r\n\r\nexport interface TodoListState {\r\n  data?: TodoItem[];\r\n  isLoading: boolean;\r\n  error?: Error;\r\n}\r\n\r\nconst initialState: TodoListState = {\r\n  data: undefined,\r\n  isLoading: false,\r\n  error: undefined,\r\n}\r\n\r\nexport const todoListSlice = createSlice({\r\n  name: &#39;todoList&#39;,\r\n  initialState,\r\n  reducers: {\r\n    requestFetchTodos: (state) =&gt; {\r\n      state.isLoading = true;\r\n    },\r\n    successFetchTodos: (state, action: PayloadAction&lt;TodoItem[]&gt;) =&gt; {\r\n      state.data = action.payload;\r\n      state.isLoading = false;\r\n      state.error = undefined;\r\n    },\r\n    errorFetchTodos: (state, action: PayloadAction&lt;string&gt;) =&gt; {\r\n      state.data = undefined;\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n    }\r\n  }\r\n});\r\n\r\nexport const { requestFetchTodos, successFetchTodos, errorFetchTodos } = todoListSlice.actions;\r\n\r\nexport default todoListSlice.reducer;</code>\n        </deckgo-highlight-code>\n<hr>\n<blockquote>\n<p>React Queryë¡œ API ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ë¶€ë¶„ì˜ ì½”ë“œ</p>\n</blockquote>\n<deckgo-highlight-code language=\"ts\"  >\n          <code slot=\"code\">// quries/useTodosQuery.ts\r\n// API ìƒíƒœë¥¼ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•œ React Query Custom Hook\r\nimport axios from &#39;axios&#39;;\r\nimport { useQuery } from &#39;react-query&#39;;\r\nimport { TodoItem } from &#39;types/todo&#39;;\r\n\r\n// useQueryì—ì„œ ì‚¬ìš©í•  UniqueKeyë¥¼ ìƒìˆ˜ë¡œ ì„ ì–¸í•˜ê³  exportë¡œ ì™¸ë¶€ì— ë…¸ì¶œí•©ë‹ˆë‹¤.\r\n// ìƒìˆ˜ë¡œ UniqueKeyë¥¼ ê´€ë¦¬í•  ê²½ìš° ë‹¤ë¥¸ Component (or Custom Hook)ì—ì„œ ì‰½ê²Œ ì°¸ì¡°ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.\r\nexport const QUERY_KEY = &#39;/todos&#39;;\r\n\r\n// useQueryì—ì„œ ì‚¬ìš©í•  `ì„œë²„ì˜ ìƒíƒœë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‚¬ìš©í•  Promiseë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜`\r\nconst fetcher = () =&gt; axios.get&lt;TodoItem[]&gt;(&#39;/todos&#39;).then(({ data }) =&gt; data);\r\n\r\nconst useTodosQuery = () =&gt; {\r\n  return useQuery(QUERY_KEY, fetcher);\r\n};\r\n\r\nexport default useTodosQuery;</code>\n        </deckgo-highlight-code>\n<p>ë‹¨ìˆœíˆ ë¹„êµí•´ë´ë„ <strong>Reduxë¥¼ ì‚¬ìš©í•œ ë¹„ë™ê¸° ë°ì´í„° ê´€ë¦¬</strong> ì½”ë“œì™€ <strong>React Queryë¥¼ ì‚¬ìš©í•œ ë¹„ë™ê¸° ë°ì´í„° ê´€ë¦¬</strong> ì½”ë“œì˜ ë¶„ëŸ‰ì´ í¬ê²Œ ì°¨ì´ë‚¨ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\r\nì½”ë“œì˜ ë¶„ëŸ‰ì´ ì ì–´ì¡Œë‹¤ëŠ” ê²ƒì€ ê°œë°œìì—ê²Œ ë¶ˆí•„ìš”í•œ ì‘ì—…ì´ í•„ìš” ì—†ì–´ì§ì„ ëœ»í•˜ê¸°ë„ í•˜ì§€ë§Œ, ì†ŒìŠ¤ì½”ë“œì˜ ë³µì¡ë„ë¥¼ ë‚®ì¶”ì–´ ìœ ì§€ë³´ìˆ˜ì˜ ìš©ì´ì„±ì„ ë†’ì´ê³  ì‘ì—… ê°„ì— ë°œìƒí•  ìˆ˜ ìˆëŠ” ì‚¬ì´ë“œ ì´í™íŠ¸ë‚˜ íœ´ë¨¼ ì—ëŸ¬ë¥¼ ì‚¬ì „ì— ë”\r\nì˜ ë§‰ì„ ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ë„ ê°–ê²Œ ë  ê²ƒì…ë‹ˆë‹¤.</p>\n<h4>- API ìš”ì²­ ìˆ˜í–‰ì„ ìœ„í•œ ê·œê²©í™”ëœ ë°©ì‹ ì œê³µ</h4>\n<p>React QueryëŠ” <code>Reactì—ì„œ ë¹„ë™ê¸° ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì§„ ë¼ì´ë¸ŒëŸ¬ë¦¬</code>ì…ë‹ˆë‹¤. React QueryëŠ” API ìš”ì²­ ë° ìƒíƒœ ê´€ë¦¬ë¥¼\r\nìœ„í•´ (ìƒë‹¹íˆ ì˜ ë§Œë“¤ì–´ì§„!) ê·œê²©í™”ëœ ë°©ì‹ì„ ì œê³µí•©ë‹ˆë‹¤.</p>\n<deckgo-highlight-code language=\"ts\"  >\n          <code slot=\"code\">interface ApiState {\r\n  data?: Data;\r\n  isLoading: boolean;\r\n  error?: Error;\r\n}\r\n\r\ninterface ApiState {\r\n  data?: Data;\r\n  status: &#39;IDLE&#39; | &#39;LOADING&#39; | &#39;SUCCESS&#39; | &#39;ERROR&#39;;\r\n  error?: Error;\r\n}</code>\n        </deckgo-highlight-code>\n<blockquote>\n<p>Reduxë¡œ API ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ê²½ìš° í”„ë¡œì íŠ¸ í™˜ê²½ì— ë”°ë¥¸ ì„¤ê³„ì™€ êµ¬í˜„ì´ ìš”êµ¬ë˜ì—ˆìŠµë‹ˆë‹¤.</p>\n</blockquote>\n<p>React QueryëŠ” API ìƒíƒœì™€ ê´€ë ¨ëœ ë‹¤ì–‘í•œ ë°ì´í„°ë¥¼ ì œê³µí•˜ì—¬ ë³µì¡í•œ êµ¬í˜„ê³¼ ì„¤ê³„ ì—†ì´ë„ ê°œë°œìê°€ íš¨ìœ¨ì ìœ¼ë¡œ í™”ë©´ì„ êµ¬ì„±í•  ìˆ˜ ìˆê²Œë” ë„ì™€ì¤ë‹ˆë‹¤.</p>\n<deckgo-highlight-code language=\"ts\"  >\n          <code slot=\"code\">const {\r\n  data,\r\n  dataUpdatedAt,\r\n  error,\r\n  errorUpdatedAt,\r\n  failureCount,\r\n  isError,\r\n  isFetched,\r\n  isFetchedAfterMount,\r\n  isFetching,\r\n  isIdle,\r\n  isLoading,\r\n  isLoadingError,\r\n  isPlaceholderData,\r\n  isPreviousData,\r\n  isRefetchError,\r\n  isRefetching,\r\n  isStale,\r\n  isSuccess,\r\n  refetch,\r\n  remove,\r\n  status,\r\n} = useQuery(queryKey, queryFn);</code>\n        </deckgo-highlight-code>\n<blockquote>\n<p>React QueryëŠ” ë‹¤ì–‘í•œ í˜•íƒœì˜ ë°ì´í„°ë¥¼ ì œê³µí•˜ì—¬ ë³µì¡í•œ ì‘ì—… ì—†ì´ë„ íš¨ìœ¨ì ìœ¼ë¡œ í™”ë©´ì„ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤. (ì°¸ê³ : <a href=\"https://react-query.tanstack.com/reference/useQuery\">React Query ê³µì‹ í™ˆí˜ì´ì§€</a>)</p>\n</blockquote>\n<h4>- ì‚¬ìš©ì ê²½í—˜ í–¥ìƒì„ ìœ„í•œ ê¸°ëŠ¥ ì œê³µ</h4>\n<p>ì´ì „ì—ëŠ” ë¹„ë™ê¸° ë°ì´í„° ê´€ë¦¬ë¥¼ ìœ„í•´ ì§ì ‘ êµ¬í˜„í•˜ê³  ì‚¬ìš©í–ˆë˜ ê¸°ëŠ¥ë“¤ì„, React QueryëŠ” ìì²´ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” ë‹¤ì–‘í•œ ê¸°ëŠ¥ì´ ìˆì–´ ì´ë¥¼ ì‚¬ìš©ì ê²½í—˜ í–¥ìƒì— ì†ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<deckgo-highlight-code language=\"ts\"  >\n          <code slot=\"code\">// ex)\r\n// quires/useTodosQuery.ts\r\n// API ìƒíƒœë¥¼ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•œ React Query Custom Hook\r\n\r\nconst useTodosQuery = () =&gt; {\r\n  return uesQuery(QUERY_KEY, fetcher, { refetchOnWindowFoucs: true });\r\n}\r\n\r\nexport default useTodosQuery;</code>\n        </deckgo-highlight-code>\n<p>React Queryë¥¼ ì‚¬ìš©í•  ê²½ìš° ë‹¨ìˆœí•œ ì˜µì…˜ ë¶€ì—¬ë§Œìœ¼ë¡œ <strong>Window Focus ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ì„œë²„ ìƒíƒœ ë™ê¸°í™”</strong> ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\r\në‹¤ë£¨ëŠ” APIê°€ ë§ì•„ì§€ê³  ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ê°€ ë³µì¡í•´ì§ˆìˆ˜ë¡ ì´ì „ì˜ <strong>ì§ì ‘ Event Binding</strong>í•˜ëŠ” ë°©ì‹ë³´ë‹¤ ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì¢‹ì€ ì½”ë“œê°€ ë  ê²ƒì…ë‹ˆë‹¤.</p>\n<p>React Queryì™€ í•¨ê»˜ë¼ë©´ <a href=\"https://tanstack.com/query/latest/docs/react/guides/window-focus-refetching?from=reactQueryV3&#x26;original=https%3A%2F%2Ftanstack.com%2Fquery%2Fv3%2Fdocs%2Fguides%2Fwindow-focus-refetching\">Refetch on window focus</a>ì™¸ì—\r\n<a href=\"https://tanstack.com/query/latest/docs/react/guides/caching?from=reactQueryV3&#x26;original=https%3A%2F%2Ftanstack.com%2Fquery%2Fv3%2Fdocs%2Fguides%2Fcaching\">API Caching</a>, <a href=\"https://tanstack.com/query/latest/docs/react/guides/query-retries?from=reactQueryV3&#x26;original=https%3A%2F%2Ftanstack.com%2Fquery%2Fv3%2Fdocs%2Fguides%2Fquery-retries\">API Retry</a>, <a href=\"https://tanstack.com/query/latest/docs/react/guides/optimistic-updates?from=reactQueryV3&#x26;original=https%3A%2F%2Ftanstack.com%2Fquery%2Fv3%2Fdocs%2Fguides%2Foptimistic-updates\">Optimistic Update</a>, <a href=\"https://tanstack.com/query/latest/docs/react/plugins/persistQueryClient?from=reactQueryV3&#x26;original=https%3A%2F%2Ftanstack.com%2Fquery%2Fv3%2Fdocs%2Fplugins%2FpersistQueryClient\">Persist Caching</a> ë“± ì‚¬ìš©ì ê²½í—˜ í–¥ìƒì„ ìœ„í•œ ë‹¤ì–‘í•œ ê¸°ë²•ë“¤ì„ ì†ì‰½ê²Œ í”„ë¡œì íŠ¸ì— í¬í•¨ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>React Queryì—ì„œ ì œê³µí•˜ëŠ” ì´ëŸ¬í•œ ê¸°ëŠ¥ë“¤ì€ ìš°ë¦¬ ê°œë°œìë“¤ë¡œ í•˜ì—¬ê¸ˆ ì œí’ˆê³¼ ì§ì ‘ì ìœ¼ë¡œ ì—°ê´€ë˜ì§€ ì•ŠëŠ” ì‘ì—…ì— íˆ¬ì…í•´ì•¼ í•˜ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ê²½ê°ì‹œì¼œ ë” ì¤‘ìš”í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì§‘ì¤‘í•  ìˆ˜ ìˆê²Œë” ë„ì™€ì¤ë‹ˆë‹¤.\r\nì´ëŸ¬í•œ í™˜ê²½ì€ ìš°ë¦¬ê°€ ë” ê²¬ê³ í•œ ì œí’ˆì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë°”íƒ•ì´ ë˜ì–´ì£¼ê³  ìˆìŠµë‹ˆë‹¤.</p>\n<h3>ë§ˆì¹˜ë©°</h3>\n<p>React Queryë¥¼ ì‚¬ìš©í•˜ë©´, <strong>'ë¶ˆí•„ìš”í•œ ì½”ë“œì˜ ê°ì†Œ', 'ì—…ë¬´ì™€ í˜‘ì—…ì˜ íš¨ìœ¨ì„±ì„ ìœ„í•œ ê·œê²©í™”ëœ ë°©ì‹ ì œê³µ', 'ì‚¬ìš©ì ê²½í—˜ í–¥ìƒì„ ìœ„í•œ ë‹¤ì–‘í•œ Built-in ê¸°ëŠ¥'</strong> ì´ë¼ëŠ” ì¥ì ë“¤ì„ ì •ë¦¬í•´ ë³¼ ìˆ˜ ìˆê² ë„¤ìš”~<br/>\r\nì €ë„ React Queryë¥¼ ì‚¬ìš©í•˜ë©´ì„œ í° ë§¤ë ¥ì„ ëŠë¼ê³  ìˆì—ˆëŠ”ë°ìš”!<br/>\r\nì´ë ‡ê²Œ ì •ë¦¬í•´ ë³´ë‹ˆ ë”ë”ìš± ì“¸ ì´ìœ ê°€ í™•ì‹¤í•´ ë³´ì…ë‹ˆë‹¤!ğŸ‘</p>\n<p>ê·¸ëŸ¼ ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œ ë˜ ë§Œë‚˜ìš”!~ğŸ˜‰</p>\n<hr>\n<h4>ì°¸ê³  ë§í¬</h4>\n<ul>\n<li><a href=\"https://tech.kakaopay.com/post/react-query-1/\">https://tech.kakaopay.com/post/react-query-1/</a></li>\n<li><a href=\"https://youthfulhps.dev/web/stale-while-ravalidate/\">https://youthfulhps.dev/web/stale-while-ravalidate/</a></li>\n</ul>","frontmatter":{"title":"ë¦¬ì•¡íŠ¸ ì¿¼ë¦¬(React Query)ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ","date":"November 20, 2023","description":"API í†µì‹  ë° ë¹„ë™ê¸° ìƒíƒœ ê´€ë¦¬ë¥¼ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ React-queryì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤","tags":["react","react-query","library","frontend"]}},"previous":{"fields":{"slug":"/img-lazy-loading/"},"frontmatter":{"title":"ì›¹ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ Lazy Loading ê¸°ë²•"}},"next":{"fields":{"slug":"/clean-code-01/"},"frontmatter":{"title":"ë…¸ê°œë¶ - í´ë¦°ì½”ë“œ Assignment 01"}}},"pageContext":{"id":"2c44be0b-f238-50bf-8f75-f6a3af5ef241","previousPostId":"a75e5a09-d397-5031-9e21-632b67123f1e","nextPostId":"2d0b44a3-14c7-59c3-b379-e6c8b310d61b"}},"staticQueryHashes":["1085474499","2837417301"],"slicesMap":{}}